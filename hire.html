<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Let’s Talk – Folklane</title>
<link rel="stylesheet" href="hire.css">

<!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>

<body>

<section class="talk-section">

    <!-- Background elements -->
    <div id="particles-wrap"></div>
    <div class="blob blob1"></div>
    <div class="blob blob2"></div>
    <div class="talk-gradient"></div>

    <div class="talk-container">

        <h2 class="talk-title fade-in">I am interested in :</h2>

        <!-- INTEREST TAGS -->
        <div class="talk-tags fade-in">
            <button class="tag-btn" data-value="A new website">A new website</button>
            <button class="tag-btn" data-value="Branding">Branding</button>
            <button class="tag-btn" data-value="Motion graphics">Motion graphics</button>
            <button class="tag-btn" data-value="E-Commerce">E-Commerce</button>
            <button class="tag-btn" data-value="Development">Development</button>
            <button class="tag-btn" data-value="On-going support">On-going support</button>
            <button class="tag-btn" data-value="App from scratch">App from scratch</button>
        </div>

        <!-- FORM -->
        <form class="talk-form slide-up"
              action="https://api.web3forms.com/submit"
              method="POST">

            <!-- Web3Forms Access Key -->
            <input type="hidden" name="access_key" value="6eff564c-abf8-4068-8ec7-bb0d01c90214">

            <!-- Hidden interest field -->
            <input type="hidden" name="interest" id="interestField">

            <!-- USER DETAILS -->
            <div class="form-row">
                <div class="input-wrapper">
                    <input type="text" name="first_name" required placeholder=" ">
                    <label>First Name*</label>
                    <span class="underline"></span>
                </div>

                <div class="input-wrapper">
                    <input type="text" name="last_name" required placeholder=" ">
                    <label>Last Name*</label>
                    <span class="underline"></span>
                </div>

                <div class="input-wrapper">
                    <input type="email" name="email" required placeholder=" ">
                    <label>Email*</label>
                    <span class="underline"></span>
                </div>
            </div>

            <!-- BUDGET -->
            <div class="input-wrapper">
                <input type="text" name="budget" id="budgetField" placeholder=" ">
                <label>Budget (₹)</label>
                <span class="underline"></span>
            </div>

            <!-- PLAN DROPDOWN -->
            <div class="input-wrapper">
                <select name="plan" id="planSelect" class="plan-select">
                    <option value="">Select a Plan</option>
                    <option value="Basic">Basic</option>
                    <option value="Standard">Standard</option>
                    <option value="Premium">Premium</option>
                </select>
                <label style="top:-22px;">Choose a Plan</label>
                <span class="underline"></span>
            </div>

            <!-- MESSAGE -->
            <div class="input-wrapper">
                <textarea rows="4" name="message" id="message" placeholder=" "></textarea>
                <label>Message</label>
                <span class="underline"></span>
            </div>

            <!-- CHECKBOXES -->
            <div class="checkbox-row fade-in">
                <label><input type="checkbox" name="monthly_updates" value="Yes"> I want monthly updates.</label>
                <label><input type="checkbox" name="privacy_policy" value="Yes" required> I agree to the privacy policy.</label>
            </div>

            <button type="submit" class="submit-btn pulse">Submit →</button>

        </form>
    </div>
</section>

<script>

/* -----------------------------------------
   INTEREST TAGS → ONLY ONE IN MESSAGE
----------------------------------------- */
const tagButtons = document.querySelectorAll(".tag-btn");
const interestField = document.getElementById("interestField");
const messageBox = document.getElementById("message");

// All possible service names (used for removing previous selection)
const serviceList = [
    "A new website",
    "Branding",
    "Motion graphics",
    "E-Commerce",
    "Development",
    "On-going support",
    "App from scratch"
];

tagButtons.forEach(btn => {
    btn.addEventListener("click", () => {

        // Highlight selected button
        tagButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        const selected = btn.getAttribute("data-value");

        // Set hidden field
        interestField.value = selected;

        // Remove previous service entries from message
        let msg = messageBox.value;
        serviceList.forEach(service => {
            msg = msg.replace(new RegExp(service + ",? ?", "g"), "");
        });

        // Add the selected service at the top
        messageBox.value = selected + ", " + msg.trim();
    });
});


/* -----------------------------------------
   PLAN + PRICE + BUDGET AUTO-FILL
----------------------------------------- */
const planSelect = document.getElementById("planSelect");
const budgetField = document.getElementById("budgetField");
let priceAlreadyAdded = false;

planSelect.addEventListener("change", () => {

    if (!planSelect.value) return;

    messageBox.value += "Selected Plan: " + planSelect.value + ", ";

    let price = "";

    if (planSelect.value === "Basic") price = "₹8,500 + GST";
    if (planSelect.value === "Standard") price = "₹11,500 + GST";
    if (planSelect.value === "Premium") price = "₹16,500 + GST";

    if (!budgetField.value) {
        budgetField.value = price;
        budgetField.readOnly = true;
    }

    if (!priceAlreadyAdded) {
        messageBox.value += "Price: " + price + ", ";
        priceAlreadyAdded = true;
    }
});


/* -----------------------------------------
   WEB3 FORMS SUBMISSION
----------------------------------------- */
document.querySelector(".talk-form").addEventListener("submit", function (e) {
    e.preventDefault();

    const form = this;

    fetch(form.action, {
        method: "POST",
        body: new FormData(form)
    })
    .then(res => res.json())
    .then(data => {
        if (data.success) {
            alert("Thank you! Your form has been submitted.");

            form.reset();
            messageBox.value = "";
            interestField.value = "";
            planSelect.value = "";
            budgetField.value = "";
            budgetField.readOnly = false;
            priceAlreadyAdded = false;

            tagButtons.forEach(b => b.classList.remove("active"));
        } else {
            alert("There was an error. Please try again.");
        }
    })
    .catch(() => alert("Network error. Please try again."));
});


/* -----------------------------------------
   SCROLL ANIMATIONS
----------------------------------------- */
const animatedEls = document.querySelectorAll(".fade-in, .slide-up");
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.style.animationPlayState = "running";
    }
  });
});
animatedEls.forEach(el => {
  el.style.animationPlayState = "paused";
  observer.observe(el);
});


/* -----------------------------------------
   PARTICLES BACKGROUND
----------------------------------------- */
function generateParticles() {
  const wrap = document.getElementById("particles-wrap");

  for (let i = 0; i < 45; i++) {
    let particle = document.createElement("span");
    particle.classList.add("particle");

    let size = Math.random() * 12 + 6;
    particle.style.width = size + "px";
    particle.style.height = size + "px";

    particle.style.left = Math.random() * 100 + "%";
    particle.style.top = Math.random() * 100 + "%";

    let duration = Math.random() * 6 + 6;
    particle.style.animationDuration = duration + "s";

    wrap.appendChild(particle);
  }
}
generateParticles();

</script>

</body>
</html>
